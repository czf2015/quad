## 数据结构设计

```go
type Base struct {
	ID         string `gorm:"primary_key" json:"id" form:"id"`
	CreatedAt  string `gorm:"default:NOW()" json:"-"`
	ModifiedAt string `gorm:"default:NOW()" json:"-"`
}

type PageMeta struct {
 keywords string[]
 description string
}

type PageQuery struct {
 id int
}
type Style struct {
 top int
 left int
 width int
 height int
 backgroundColor string
}
type PageContentItem struct {
 name string
 id string
 pid string
 title string
 hasBlock boolean
 quad string
 // blocks
 style Style
}
// 页面日志
type PageLog struct {
 Base
 page_id string
 info string
 timestamp string
 version string
}
// 页面错误
type PageError {
 Base
 page_id string
 name string
 message string
}
// 页面操作
type PageOperation {
 Base
 page_id string
 name string
 message string
}
// 页面信息
type Page struct {
 Base
 title string
 icon string
 lang string
 meta PageMeta
 width int
 height int
 tags string[]
 path string
 query PageQuery
 template string
 timezone string
 published int
 // ============保存参数、查看返回=============
 version string
 content PageContentItem[] // json
 logs PageLog[] // json
 errors PageError[] // json
 operations PageOperation[] // json
}

```

## 相关操作

1. 打开
   1.1 查询

```go
type QueryPageListParams struct {
  title string
  path string
  tags string[]
}

type QueryPageListResponse struct {
  PageQueryParams
  id string
}
```

1.2 查看

```go
type QueryPageDetailsParams struct {
  id string
}

type QueryPageDetailsResponse struct {
  Page
}
```

1.3 删除

```go
type DeletePageParams struct {
  id string
}
```

2. 查看 --打开管理页面

3. 新增

```go
type CreatePageParams struct {
  Page
}
```

4. 删除 --打开管理页面

5. 保存

```go
type UpdatePageParams struct {
  Page
}
```

6. 预览 --前端展示问题

7. 发布

```go
type PublishPageParams struct {
  id string
  version string // 发布的版本可回退，生成版本备份
}
```
